pipeline{
    agent none

    stages{
        stage('build'){
            agent { label 'master'}
            steps {
                sh '''
                pwd
                sleep 5
                echo "This is the 1st stage : Build"
            '''            }
        }
        stage('test'){
            agent { label 'slave1'}
            steps {
                sh '''
                pwd
                sleep 5
                echo "This is the 1st stage : test"
            '''            }
        }
        stage('deploy'){
            agent { label 'slave2'}
            steps {
                sh '''
                pwd
                sleep 5
                echo "This is the 1st stage : deploy"
            '''            }
        }
    }
}